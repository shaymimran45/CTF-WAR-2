{
  "name": "ctf-platform",
  "region": "oregon",
  "services": [
    {
      "type": "web",
      "name": "ctf-platform-web",
      "runtime": "node",
      "plan": "free",
      "buildCommand": "npm install && npm run build",
      "startCommand": "npm start",
      "healthCheckPath": "/api/health",
      "envVars": [
        {
          "key": "NODE_ENV",
          "value": "production"
        },
        {
          "key": "PORT",
          "value": "3001"
        },
        {
          "key": "SUPABASE_URL",
          "sync": false
        },
        {
          "key": "SUPABASE_SERVICE_ROLE_KEY",
          "sync": false
        },
        {
          "key": "SUPABASE_ANON_KEY",
          "sync": false
        },
        {
          "key": "JWT_SECRET",
          "generateValue": true
        },
        {
          "key": "JWT_EXPIRES_IN",
          "value": "7d"
        },
        {
          "key": "UPLOAD_DIR",
          "value": "/tmp/uploads"
        },
        {
          "key": "MAX_FILE_SIZE",
          "value": "10485760"
        },
        {
          "key": "CORS_ORIGIN",
          "value": "*"
        },
        {
          "key": "RATE_LIMIT_WINDOW_MS",
          "value": "900000"
        },
        {
          "key": "RATE_LIMIT_MAX_REQUESTS",
          "value": "100"
        },
        {
          "key": "ADMIN_EMAIL",
          "value": "ctfadmin2024@gmail.com"
        },
        {
          "key": "ADMIN_USERNAME",
          "value": "ctfadmin"
        },
        {
          "key": "ADMIN_PASSWORD",
          "value": "CTFSecureAdmin@2024!"
        },
        {
          "key": "FLAG_PREFIXES",
          "value": "CTF,flag,FLAG,ctf"
        }
      ],
      "autoDeploy": true
    }
  ]
}
